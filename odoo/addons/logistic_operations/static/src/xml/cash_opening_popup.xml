<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <!-- Template del popup de apertura de caja -->
    <t t-name="logistic_operations.CashOpeningPopup">
        <Dialog title="'Apertura de Caja - Operaciones Logísticas'" size="'md'">
            <div class="cash-opening-popup">
                <div class="modal-body">
                    <p class="text-muted mb-4">
                        Para iniciar la sesión, ingresa el monto inicial de efectivo en la caja.
                    </p>

                    <!-- Campo de monto inicial -->
                    <div class="mb-3">
                        <label for="cash_amount" class="form-label">
                            <strong>Monto Inicial de Efectivo</strong>
                        </label>
                        <div class="input-group">
                            <span class="input-group-text">$</span>
                            <input
                                type="number"
                                class="form-control form-control-lg"
                                id="cash_amount"
                                t-model="state.cashAmount"
                                t-on-input="onCashAmountChange"
                                step="0.01"
                                min="0"
                                placeholder="0.00"
                                autofocus="autofocus"
                            />
                        </div>
                        <small class="form-text text-muted">
                            Este es el efectivo disponible al inicio de la sesión.
                        </small>
                    </div>

                    <!-- Campo de notas/observaciones -->
                    <div class="mb-3">
                        <label for="notes" class="form-label">
                            <strong>Notas u Observaciones</strong>
                        </label>
                        <textarea
                            class="form-control"
                            id="notes"
                            t-model="state.notes"
                            t-on-input="onNotesChange"
                            rows="3"
                            placeholder="Observaciones opcionales sobre la apertura..."
                        />
                    </div>

                    <!-- Resumen -->
                    <div class="alert alert-info" role="alert">
                        <strong>Resumen:</strong> Iniciarás la sesión con
                        <strong t-esc="'$' + state.cashAmount.toFixed(2)"/> en efectivo.
                    </div>
                </div>

                <!-- Botones de acción -->
                <div class="modal-footer">
                    <button
                        type="button"
                        class="btn btn-secondary"
                        t-on-click="cancel"
                        t-att-disabled="state.loading"
                    >
                        Cancelar
                    </button>
                    <button
                        type="button"
                        class="btn btn-primary btn-lg"
                        t-on-click="confirm"
                        t-att-disabled="state.loading"
                    >
                        <t t-if="state.loading">
                            <span class="spinner-border spinner-border-sm me-2" role="status"/>
                            Iniciando...
                        </t>
                        <t t-else="">
                            <i class="fa fa-play me-2"/>
                            Iniciar Sesión
                        </t>
                    </button>
                </div>
            </div>
        </Dialog>
    </t>

</templates>
<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!--
        EXCLUSIÓN DE DATOS DE PUNTO DE INICIO EN POINT OF SALE
        =======================================================

        Este archivo modifica las acciones originales del Point of Sale
        para que NO muestren datos marcados como Punto de Inicio.

        Esto garantiza SEPARACIÓN TOTAL entre ambos módulos:
        - Point of Sale SOLO muestra datos con x_is_punto_inicio = False o None
        - Punto de Inicio SOLO muestra datos con x_is_punto_inicio = True

        IMPORTANTE: Estos son los action IDs reales que existen en point_of_sale
        -->

        <!-- ========================================== -->
        <!-- EXCLUSIÓN EN CONFIGURACIONES (pos.config) -->
        <!-- ========================================== -->

        <!-- Dashboard principal de POS (vista kanban de configuraciones) -->
        <record id="point_of_sale.action_pos_config_kanban" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- Vista de árbol/lista de configuraciones POS -->
        <record id="point_of_sale.action_pos_config_tree" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- Acción de configuración general -->
        <record id="point_of_sale.action_pos_configuration" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- ========================================== -->
        <!-- EXCLUSIÓN EN SESIONES (pos.session) -->
        <!-- ========================================== -->

        <!-- Lista principal de sesiones POS -->
        <record id="point_of_sale.action_pos_session" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- Sesiones filtradas del dashboard -->
        <record id="point_of_sale.action_pos_session_filtered" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- ========================================== -->
        <!-- EXCLUSIÓN EN ÓRDENES (pos.order) -->
        <!-- ========================================== -->

        <!-- Lista principal de órdenes POS -->
        <record id="point_of_sale.action_pos_pos_form" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- Órdenes filtradas del dashboard -->
        <record id="point_of_sale.action_pos_order_filtered" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- Gráfico de ventas -->
        <record id="point_of_sale.action_pos_sale_graph" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- ========================================== -->
        <!-- EXCLUSIÓN EN REPORTES -->
        <!-- ========================================== -->

        <!-- Reporte de todas las órdenes -->
        <record id="point_of_sale.action_report_pos_order_all" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- Reporte filtrado de órdenes -->
        <record id="point_of_sale.action_report_pos_order_all_filtered" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- Detalles del reporte POS -->
        <record id="point_of_sale.action_report_pos_details" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- ========================================== -->
        <!-- EXCLUSIÓN EN LÍNEAS DE ORDEN -->
        <!-- ========================================== -->

        <!-- Líneas de orden -->
        <record id="point_of_sale.action_pos_order_line" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- Formulario de líneas de orden -->
        <record id="point_of_sale.action_pos_order_line_form" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- Líneas de orden por día -->
        <record id="point_of_sale.action_pos_order_line_day" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- Todas las líneas de venta -->
        <record id="point_of_sale.action_pos_all_sales_lines" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!-- ========================================== -->
        <!-- EXCLUSIÓN EN PAGOS (pos.payment) -->
        <!-- ========================================== -->

        <!-- Formulario de pagos POS -->
        <record id="point_of_sale.action_pos_payment_form" model="ir.actions.act_window">
            <field name="domain">['|', ('x_is_punto_inicio', '=', False), ('x_is_punto_inicio', '=', None)]</field>
        </record>

        <!--
        NOTA IMPORTANTE:
        ================
        Los métodos de pago (pos.payment.method) y categorías de productos
        NO se filtran porque son recursos compartidos entre ambos módulos.

        Solo filtramos las transacciones y configuraciones, no los catálogos.
        -->

    </data>
</odoo>

<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <!-- Template principal de la aplicación Punto de Inicio -->
    <t t-name="punto_inicio.PuntoInicioApp">
        <div class="punto-inicio-app h-100 d-flex flex-column">

            <!-- Loading spinner -->
            <t t-if="state.loading">
                <div class="d-flex justify-content-center align-items-center h-100">
                    <div class="text-center">
                        <div class="spinner-border text-primary mb-3" style="width: 3rem; height: 3rem;" role="status">
                            <span class="visually-hidden">Cargando...</span>
                        </div>
                        <p class="text-muted">Cargando Punto de Inicio...</p>
                    </div>
                </div>
            </t>

            <!-- Error state -->
            <t t-elif="state.error">
                <div class="d-flex justify-content-center align-items-center h-100">
                    <div class="text-center">
                        <i class="fa fa-exclamation-triangle text-danger mb-3" style="font-size: 3rem;"/>
                        <h4>Error al cargar</h4>
                        <p class="text-muted" t-esc="state.error"/>
                        <button class="btn btn-primary" t-on-click="backToDashboard">
                            Volver al Dashboard
                        </button>
                    </div>
                </div>
            </t>

            <!-- Main app -->
            <t t-else="">
                <!-- Header -->
                <div class="punto-inicio-header bg-primary text-white p-3 shadow-sm">
                    <div class="container-fluid">
                        <div class="row align-items-center">
                            <div class="col">
                                <h3 class="mb-0">
                                    <i class="fa fa-shopping-cart me-2"/>
                                    Punto de Inicio
                                </h3>
                                <small t-esc="state.session.config_id[1]"/>
                            </div>
                            <div class="col-auto">
                                <div class="btn-group">
                                    <button class="btn btn-light btn-sm" t-on-click="backToDashboard">
                                        <i class="fa fa-arrow-left me-1"/>
                                        Dashboard
                                    </button>
                                    <button class="btn btn-danger btn-sm" t-on-click="closeSession">
                                        <i class="fa fa-times me-1"/>
                                        Cerrar Sesión
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Main content -->
                <div class="punto-inicio-content flex-grow-1 p-4 bg-light">
                    <div class="container-fluid">
                        <!-- Session info card -->
                        <div class="card mb-4">
                            <div class="card-header bg-white">
                                <h5 class="mb-0">Información de Sesión</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <p><strong>Sesión:</strong> <span t-esc="state.session.name"/></p>
                                        <p><strong>Punto de Inicio:</strong> <span t-esc="state.session.config_id[1]"/></p>
                                    </div>
                                    <div class="col-md-6">
                                        <p><strong>Estado:</strong>
                                            <span class="badge bg-success" t-if="state.session.state === 'opened'">Abierta</span>
                                            <span class="badge bg-warning" t-else="">
                                                <t t-esc="state.session.state"/>
                                            </span>
                                        </p>
                                        <p><strong>Efectivo Inicial:</strong>
                                            $<span t-esc="(state.session.cash_register_balance_start || 0).toFixed(2)"/>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Welcome message -->
                        <div class="card">
                            <div class="card-body text-center py-5">
                                <i class="fa fa-check-circle text-success mb-3" style="font-size: 4rem;"/>
                                <h3>Sesión Iniciada Correctamente</h3>
                                <p class="text-muted mb-4">
                                    La sesión de Punto de Inicio está activa y lista para operar.
                                </p>
                                <div class="alert alert-info">
                                    <i class="fa fa-info-circle me-2"/>
                                    <strong>Próximos pasos:</strong> Esta es la interfaz básica de Punto de Inicio.
                                    Aquí puedes agregar más funcionalidades según tus necesidades.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Footer -->
                <div class="punto-inicio-footer bg-white border-top p-3 text-center text-muted">
                    <small>
                        Punto de Inicio v1.0.0 - Sesión iniciada:
                        <t t-esc="state.session.start_at"/>
                    </small>
                </div>
            </t>

        </div>
    </t>

</templates>